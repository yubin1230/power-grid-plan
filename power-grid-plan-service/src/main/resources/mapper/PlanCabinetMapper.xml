<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.power.grid.plan.mapper.PlanCabinetMapper">
    <resultMap id="BaseResultMap" type="com.power.grid.plan.pojo.PlanCabinetPo">
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="cabinet_no" property="cabinetNo" jdbcType="VARCHAR"/>
        <result column="case_no" property="caseNo" jdbcType="VARCHAR"/>
        <result column="station_name" property="stationName" jdbcType="VARCHAR"/>
        <result column="line_no" property="lineNo" jdbcType="VARCHAR"/>
        <result column="box_name" property="boxName" jdbcType="VARCHAR"/>
        <result column="voltage" property="voltage" jdbcType="INTEGER"/>
        <result column="out_line" property="outLine" jdbcType="INTEGER"/>
        <result column="type" property="type" jdbcType="INTEGER"/>
        <result column="control_type" property="controlType" jdbcType="INTEGER"/>
        <result column="longitude" property="longitude" jdbcType="DOUBLE"/>
        <result column="latitude" property="latitude" jdbcType="DOUBLE"/>
        <result column="grid_no" property="gridNo" jdbcType="VARCHAR"/>
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP"/>
        <result column="create_user" property="createUser" jdbcType="VARCHAR"/>
        <result column="update_time" property="updateTime" jdbcType="TIMESTAMP"/>
        <result column="update_user" property="updateUser" jdbcType="VARCHAR"/>
        <result column="is_deleted" property="isDeleted" jdbcType="INTEGER"/>
        <result column="ts" property="ts" jdbcType="TIMESTAMP"/>
    </resultMap>
    <sql id="Base_Column_List">
    id, cabinet_no,case_no, station_name, line_no, box_name, voltage, out_line, type, control_type,
    longitude, latitude, grid_no, create_time, create_user, update_time, update_user, 
    is_deleted, ts
  </sql>
    <select id="select" resultMap="BaseResultMap" parameterType="java.lang.String">
        select
        <include refid="Base_Column_List"/>
        from yk_gh_box
        where cabinet_no = #{cabinetNo,jdbcType=VARCHAR} and is_deleted=1
    </select>
    <delete id="delete" parameterType="java.lang.String">

    update yk_gh_box set is_deleted=2
    where case_no = #{case_no,jdbcType=VARCHAR}
  </delete>
    <insert id="insert" parameterType="com.power.grid.plan.pojo.PlanCabinetPo">
    insert into yk_gh_box (cabinet_no,case_no, station_name,
      line_no, box_name, voltage,
      out_line, type, control_type, 
      longitude, latitude, grid_no, 
      create_time, create_user, update_time
      )
    values ( #{cabinetNo,jdbcType=VARCHAR},#{caseNo,jdbcType=VARCHAR}, #{stationName,jdbcType=VARCHAR},
      #{lineNo,jdbcType=VARCHAR}, #{boxName,jdbcType=VARCHAR}, #{voltage,jdbcType=INTEGER},
      #{outLine,jdbcType=INTEGER}, #{type,jdbcType=INTEGER}, #{controlType,jdbcType=INTEGER}, 
      #{longitude,jdbcType=DOUBLE}, #{latitude,jdbcType=DOUBLE}, #{gridNo,jdbcType=VARCHAR}, 
      now(), #{createUser,jdbcType=VARCHAR}, now()
      )
  </insert>
</mapper>