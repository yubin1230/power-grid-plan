<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- import CSS -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <style>
 

 /* .clearfix:before,
  .clearfix:after {
    display: table;
    content: "";
  }
  .clearfix:after {
    clear: both
  }

  .box-card {
    width: 100%;
    margin-left: 2%;
  } */
  </style>
</head>
<body>
<div id="app">


      <!-- <div style="border: 1px solid #eee;padding-top: 10px;height:50px;">
        <span>现状分析及GIS定位</span>
        <div style="float: right; padding: 3px 0">
          <el-input v-model="position" placeholder="经纬度" :disabled="true" style="width: 160px;"></el-input>
          <el-button type="primary">参数初始化</el-button>
          <el-button>上一步</el-button>
        </div>

      </div> -->

      <template>
        <el-tabs v-model="activeName">
          <el-tab-pane label="现状分析及GIS定位" name="first">
            <div style="float: right; padding: 3px 0">
              <el-input v-model="position" placeholder="经纬度" :disabled="true" style="width: 160px;"></el-input>
              <el-button type="primary">参数初始化</el-button>
              <el-button>上一步</el-button>
            </div>

          </el-tab-pane>
        </el-tabs>
      </template>


      <div id="bdmap" style="width:1800px;height:820px;overflow: hidden;margin:0;font-family:'微软雅黑';margin-left: 50px;">
      
      </div>

</div>


</body>
<!-- <script src="http://api.map.baidu.com/api?type=webgl&v=1.0&ak=WqWguexTXotbEEIPGgxDGGHr2z2Etw4b"></script> -->

<script src="http://libs.baidu.com/jquery/2.1.4/jquery.min.js"></script>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script  type="module">
var Main = {
    data() {
      return {
        activeName: 'first',
        position: '122'
      };
    },
    mounted() {
       this.initMap()
    },
    methods: {
    initMap() {
      loadBMap()
    }
  }
  };
var Ctor = Vue.extend(Main)
new Ctor().$mount('#app')

/**
 * @description 加载百度地图相关资源js
 * @param {string} ak
 */
 export default function loadBMap (ak) {
    return new Promise((resolve, reject) => {
      asyncLoadBaiduJs(ak)
        .catch(err => {
          reject(err)
        })
    })
  }

  /**
   * @description 加载百度地图基础组件js
   * @param {string} ak
   */
   export function asyncLoadBaiduJs () {
    return new Promise((resolve, reject) => {
      if (typeof BMap !== 'undefined') {
        resolve(BMap)
        return true
      }
      window.onBMapCallback = function () {
          var map = new BMapGL.Map('bdmap'); // 创建Map实例
        var point = new BMapGL.Point(116.404, 39.915); // 创建点坐标
        map.centerAndZoom(point, 10);
        map.enableScrollWheelZoom(); // 启用滚轮放大缩小
      }
      let script = document.createElement('script')
      script.type = 'text/javascript'
      script.src = 'http://api.map.baidu.com/api?type=webgl&v=1.0&ak=WqWguexTXotbEEIPGgxDGGHr2z2Etw4b&callback=onBMapCallback'
      script.onerror = reject
      document.head.appendChild(script)
    })
  }

</script>
</html>